## 2. UML
### 2.1 UML의 이해
UML의 역할
- SW의 전체를 판단할 수 있도록 12개의 다이어그램을 제시
- <b>SW 설계도 작성 언어</b>
- 시스템이 상호작용하는 측면, 시스템 전체 구조 측면, 컴포넌트 간의 관계등을 <b>시각적</b>으로 볼 수 있게 나타낸 도면

<br>```프로그램 내부 청사진같은거```

---
### 2.2 유스케이스 다이어그램 [ UseCase Diagram ]
유스케이스 다이어그램
- 액터와 UC, 이들 간의 관계로 이루어지며, 만들고자 하는 SW의 사용자에게 제공하는 기능을 주로 표현
- 액터[졸라맨] : 사용자
- UC[타원형] : 기능
- 관계[화살표 & 키워드] : 포함관계, 확장관계, 통신관계로 표시

액터 [ Actor ] 
- 액터의 종류 <b>[ 사용자 | 시스템 | 메인 | 서브 | 프록시 ]</b>

|액터 종류|역할|식별방법|
|---|---|---|
|사용자 액터|시스템을 사용하는 사람[역할]<br>액터와 UC의 관계는 화살표(&rarr;)를 사용해 표현하며 화살표 방향은 액터에서 UC로 향함|개발 시스템을 사용하는 사람|
|시스템 액터|해당 프로젝트의 개발 범위에는 속하지 않지만 데이터를 주고받는 등 서로 연동되는 또 다른 시스템<br>UC가 시스템 액터를 사용[참조]하는 것이므로 화살표 방향은 UC에서 액터로 향함|개발 시스템에 연동된 또 다른 시스템|
|주요 액터|시스템에게 작업의 실행을 요구하는 능동적 입장의 액터<br>대부분의 액터가 여기에 해당|시스템에 자료를 CRUD하는 사람|
|보조 액터|UC로부터 요청을 받거나 메시지를 전달받아 수동적으로 작업을 하는 액터|시스템을 유지 및 관리하는 사람|
|프록시 액터|액터와 시스템의 중간 위치에서 무언가를 대신해주는 액터<br>시스템에 등록할 수 있도록 접근 권한이 부여된 경우에만 프록시 액터가 됨|UC 기능에 권한은 없지만 역할을 대신하는 사람|
- 액터 이름 설정 규칙
	- 이름만 봐도 액터의 의미를 알 수 있게
	- 역할을 나타내는 단어로
		- 구체적인 역할을 나타내는 단어를 사용
	- 시스템 액터는 시스템 이름을 사용
- 각 액터에 관한 설명을 붙인 액터 목록을 만들면 그 액터가 시스템을 사용해 어떤 일을 하는지 이해하는 데 도움이 됨

![액터 목록 설명](https://imgur.com/65MY0aM.png)

유스케이스 [ UseCase ]
- 유스케이스
	- 사용자가 시스템을 통해 사용하고 싶은 기능
	- UC가 모여 하나의 서브시스템을 이루고 서브시스템이 모여 개발 시스템이 됨
	- 전체 시스템은 유스케이스를 모아 놓은 것과 같아야 함
- 유스케이스 식별
	- 사용자인 액터가 시스템에 요구하는 기능을 후보 유스케이스로 선정할 수 있음
	- 사용자의 업무에서 유스케이스를 도출할 수 있음
	- DB에서 데이터를 CURD하는 기능을 하나의 UC로 선정할 수 있음
	- 찾은 후보 UC는 여러 번의 정련 과정을 통해 최적화된 UC로 결정
	- UC를 찾는 작업은 개발자가 하지만 사용자 관점에서 UC를 정의해야 함
	- 처음에는 가능하다고 생각되는 것을 모두 도출해 놓고 하나씩 면밀히 살펴보는 과정을 거쳐 불필요한 것은 삭제하고, 필요시 합치거나 분리해 최종 UC를 선정
- 유스케이스 검증
	- 시스템이 아니라 수작업으로 이루어지는 것은 UC에 포함하면 안 됨
	- 액터가 원하는 최종 결과만 나타내는 UC인지 확인
	- 액터가 수행하는 UC인지 확인
	- UC 내의 이벤트 흐름 전체를 액터가 사용하는지 확인

<img src = https://imgur.com/e2o8F6l.png height = "300">
<img src = https://imgur.com/DZW7CDW.png height = "300">

- 유스케이스 이름
	- 사용자 관점에서 이해할 수 있는 이름을 사용
	- 명사보다는 어떤 기능을 하는지 알 수 있는 동사형 명사를 사용
	- 사용자가 시스템을 얻으려는 최족 목적이 나타나는 이름을 사용
- 관계
	- 액터 -> 유스케이스 관계
		- 액터와 UC는 연관 관계로 방향성을 갖는 실선으로 표현
		- 화살표 방향은 데이터가 흘러가는 방향이 아니라 제어의 흐름을 나타냄
		- 제어하는 주체에서 출발해 제어받는 대상으로 연관 방향이 결정
		- 시스템 액터도 UC 제어의 주체가 될 수 있음
		- 액터와 시스템 액터 사이인 <b>액터와 액터</b> 사이에도 연관 관계가 존재  
    - <img src = https://imgur.com/gVXzvKV.png height = "150"> <img src = https://imgur.com/tkZkUwh.png height = "150">

  - 유스케이스 -> 액터 관계
	- UC의 수행 결과를 액터에게 알려줄 때는 UC에서 액터로 방향성을 갖는 실선으로 표현
	- UC -> 액터 관계에서 주의할 사항은 통보 기능이 시스템 내에서 이루어져야 함
	- UCD에서 화살표로 나타냈다면 그 기능을 개발에 포함해야 함  
    <img src = https://imgur.com/Y5K31BP.png height = "250">
-	- 유스케이스 -> 시스템 액터 관계  
    <img src = https://imgur.com/S5QDVEc.png>  
-	- 액터의 일반화 관계 
		- 일반화 : 개별적인 것에서 공통적인 특징을 뽑아 이름을 붙인 것 [ 반대 개념 : 특수화 ]
		- 일반화 개념은 액터 사이에 먼저 적용할 수 있음
		- 간결하게 일반화해 복잡함을 주링면 이해하기가 쉽고 새로운 액터도 간단하게 추가할 수 있음

<img src = https://imgur.com/vzGYs5w.png height = "500">
<img src = https://imgur.com/kjIg4Lw.png height = "500"><br>
<img src = https://imgur.com/HFyETEj.png>

-	- 포함 관계
		- UC의 일부 기능이 다른 UC에서도 공통으로 필요하다면 이를 별도로 만든 뒤 호출해 사용하는 것
		- 피포함 UC : 공통으로 사용하기 위해 별도 UC로 만들어 놓은 것
		- 기본 UC : 피호함 UC를 호출하는 UC
		- 포함 관계는 화살표 방향이 기본 UC에서 피포함 UC로 향함
		- 점선을 사용하고 스테레오 타입으로 \<\<include\>\>라고 표기
		- 포함 관계는 화살표 방향이 기본 UC에서 피포함 UC로 향함
		- 피포함 UC는 2개 이상의 UC에서 사용할 수 있는 공통 부분[이벤트 흐름]으로 만들어야 함
		- 다른 UC에서 사용하지 않는 기능이라면 포함 관계를 만들지 않아야 함
		- 포함 관계와 선행 관계
			- 포함 관계는 선행 조건[UC 명세서 작성 시 필요]과 혼동될 우려가 있음
			- Ex) '수강신청' UC와 '성적조회' UC에서 공통으로 필요한 부분이 '로그인' UC 라고 혼동  
        <img src = https://imgur.com/3TuvNo4.png height = 210>
        <img src = https://imgur.com/RiuAtJb.png height = 210>
	- 확장 관계
		- 특정 조건이 발생하면 확장 UC를 수행하고 다시 기준 UC를 수행
		- 확장 관계는 점선 화살표로 표기하고 방향은 기준 UC 쪽으로 향함
		- <b>\<\<extend\>\></b>라는 스테레오 타입을 사용
		- 예외적인 상황이나 어쩌다 한 번 발생하는 것을 확장 관계로 표현하는 것은 적절치 않음  
        <img src = https://imgur.com/M5LfdRK.png height = 170>
        <img src = https://imgur.com/noTlRdv.png height = 170>

---

### 2.3 클래스 다이어그램 [ Class Diagram ]
- 클래스 다이어그램
	- SW의 기본 구성 단위인 시슽템에서 사용하는 클래스를 정의
	- 클래스들이 서로 어떻게 연결되어 있고 어떤 역할을 하는지 다이어그램으로 표현

- 클래스 [ Class ]
	- 데이터[속성]와 메소드를 묶어 놓은 것
	- 세 칸의 직사각형 모양
	- 첫 번째 칸에는 <b>클래스 이름</b>
	- 두 번째 칸에는 <b>클래스의 속성</b>
	- 세 번째 칸에는 <b>메소드들</b>  
<img src = https://imgur.com/lgUJPEO.png  height = 300>

- 클래스 이름
	- 클래스는 다른 클래스와 구별되는 유일한 이름
	- 이름에 명사나 명사구를 사용하며 두 단어를 사용할 때는 붙여 쓰되 각 단어의 첫 글자는 대문자로 씀
	- 복수형, 소유격, 형용사는 가급적 쓰지 않음

- 속성
	- 클래스가 갖는 정적인 특성
	- 속성의 이름은 소문자로 나타내며 두 단어를 사용 할 때는 두 번째 단어의 첫 글자는 대문자로 씀

- 메소드
	- 클래스가 외부의 다른 객체에게 제공할 서비스와 기능
	- 외부 클래스는 메소드를 통해 해당 클래스에 접근할 수 있음
	- 외부에서 이 기능을 요구하는지에 따라 메소드로 도출할지 판단

- 가시성
	- 속성과 메서드의 접근 권한을 지정하는 방식

- 클래스와 클래스의 관계
	- 연관 관계
		- 클래스 A에 속한 객체 1개는 클래스 B에 속한 객체 2...3개를 참조한다.
	- 의존 관계
		- 클래스 A가 클래스 B의 코드에 의존적이다.
	- 상속 관계
		- 클래스 A가 클래스 B를 상속 받았다.
	- 구현 관계
		- 클래스 A가 인터페이스 B를 구현한다.  
<img src = https://imgur.com/irGkNtl.png height = 400>

대충 예시 하나<br>
<img src = https://imgur.com/xLVwwls.png>
```
학생은 여러 과목을 수강할 수 있우
학생은 하나의 학교에 소속되어 있우
교수는 하나의 학교에 소속되어 있우
교수 한 명은 여러 과목을 강의해우
교수 한 명은 여러 명의 학생을 상담해우
```
---
### 2.4 순차 다이어그램 [ Sequence Diagram ]
- 순차 다이어그램
	- 객체와 객체사이에 상호작용하는 순서를 시간 순서대로 표현한 것
	- 실행 시점에 객체들이 어떻게 상호 동작하는 지를 메시지 순서에 초점을 맞춰 나타낸 것
	- 어떠한 작업이 객체 간에 발생하는 지를 시간 순서에 따라 쉽게 파악할 수 있음

- 순차 다이어그램의 구성요소
	-	객체
		-	순차 다이어그램에서 객체는 메시지를 보내고 받는 것
		- '객체명' : '클래스명'으로 나타내며 한쪽은 생략할 수 있음
	-객체 생명선
		- 객체의 생존 기간을 나타내며 X표시는 객체가 소멸하는 시점
		- 위에서 아래로 내려가는 점선으로 나타냄
		- 생명선을 따라 나타나는 직사각형은 활성 구간으로 객체의 메소드가 실행되고 있음을 나타냄
		- 구간의 길이는 메소드의 실행 시간을 나타냄
		- 활성 구간은 반드시 존재하는 것은 아니며 생략 가능
	- 구성요소 [ 그림 넣어욧! ! ]  
    
|구성요소|설명|이미지|
|---|---|:---:|
|메시지|객체와 객체의 상호작용의 내용을 표현하는 것으로 화살표를 이용<br>화살표 위에는 수신 객체의 함수명을 명기|<img src = https://imgur.com/TXz12Tl.png>|
|동기 메시지|송신 객체가 수신 객체에 서비스를 요청[메소드 호출]하면 메소드 실행이 완료될 때까지 기다림<br>실선과 속이 채워진 삼각형으로 나타냄|<img src = https://imgur.com/Wl0InGu.png>|
|비동기 메시지|송신 객체가 수신 객체에 서비스를 요청[메서드 호출]할 때 메소드의 실행과 상관없이 다음 직업을 수행<br>수신 개체로부터의 반환도 기다리지 않는다.<br>일반 화살표 모양으로 나타냄|<img src = https://imgur.com/4q9rRwx.png>|
|재귀 메시지|수신 객체가 자신의 메소드를 호출할 때 사용|<img src = https://imgur.com/Au2X19G.png>|
|답신 메시지|호출 메서드의 결과를 반환할 때 사용한다.<br>점선과 속이 채워진 삼각형으로 나타냄|<img src = https://imgur.com/8KRvHnJ.png>|
-	- 순차 다이어그램의 작성 과정
		- 시나리오 정의
			- 수정사항이 많이 발생할 우려가 있으므로 시나리오를 명확히 정의한 후에 그것을 토대로 순차 다이어그램을 작성
			- 다이어그램과 시나리오의 1 : 1 대응
				하나의 이벤트에 여러 개의 시나리오가 나올 경우 시나리오마다 각각의 다이어그램으로 표현
			- 하나의 이벤트가 너무 길면 시나리오를 여러 개로 나누어 작성하는 것이 좋음  

<img src = https://imgur.com/SNxHOCX.png height = 500>

---
### 2.5 통신 다이어그램 [ Communication Diagram ]
- 통신 다이어그램
	-	객체 간 상호작용 관계에 주목한 것으로 순차도와 표현 능력은 동일하다.
	- 화살표 위에 적힌 번호로 순서를 알 수 있음
- 링크 객체 간에 메시지를 주고 받는 관계
- 통신 다이어그램에서는 링크를 사용해 객체 간의 관계를 표현

<img src = https://imgur.com/W9vzMQz.png width = 600><br>
<img src = https://imgur.com/Z4AsXNT.png width = 600>

---
### 2.6 활동 다이어그램 [ Activity Diagram ]
- 활동 다이어그램
	-	SW 또는 관련 사람들의 활동 순서를 표현하는 목적으로 사용함 [ 작은 동작이 아니라 업무 수준의 거시적인 활동 ]
	- 흐름도[Flow Chart]와 비슷하나 객체의 행위를 나타낸다는 점에서 다름
	- 상위 수준에서는 업무의 흐름을 표현하고 분석 단계에서는 UC의 구체적인 흐름을 나타냄
	- 설계 단계에서는 클래스 내부 동작에 대한 알고리즘이나 구체적인 로직을 표현

- 활동 다이어그램의 구성요소 [ 표로 제작 ]

|구성요소|설명|
|---|---|
|시작 / 종료 상태, 활동|시작점 : 활동의 시작을 나타내며 속이 채워진 원으로 표기<br>종료점 : 활동의 종료를 나타내며 이중 원으로 표기<br>활동 : 일의 처리와 실행을 나타내며 모서리가 둥근 사각형으로 표기<br>전이 : 활동 간의 이동을 나타내며 화살표로 표기|
|분기와 병합|분기 : 조건에 의해 두 가지 경로로 나뉘는 위치이며 마름모를 사용 / 조건문은 마름모 옆에 << >> 기호로 작성<br>병합 : 분기되어 각 활동을 수행하다가 합쳐지는 위치를 나타내며 분기와 같이 마름모를 사용 / 생략이 가능|
|동기화 막대|여러 활동을 병행할 때 사용하는 것으로 동시 처리의 시작과 끝을 나타냄|
|신호|활동 사이의 거래는 제어 신호를 보내는 방식으로 이루어짐|
|구획면|수영장의 레인을 의미하는데 수영 선수가 자신의 레인을 넘어가면 안 되는 것처럼 해당 레인을 책임지는 객체가 있음|

<img src = https://imgur.com/JtfrEs5.png>
<img src = https://imgur.com/NlNhvhH.png height = 400>
<img src = https://imgur.com/U8cgzJt.png height = 400>
<img src = https://imgur.com/Q8PDhCo.png width = 600>
<img src = https://imgur.com/IMNE8uZ.png width = 600>

---
### 2.7 상태 다이어그램 [ State Diagram ]
- 상태 다이어그램
	- 한 객체의 이벤트 발생이나 시간의 흐름에 따라 바뀌는 객체의 상태를 나타냄

- 상태 다이어그램의 구성요소
	- 상태
		- 객체가 존재할 수 있는 조건
		- 객체의 존재 가능한 모든 상태가 파악되어야 함
		- 상태는 모서리가 둥근 사각형으로 표현
	- 전이
		- 객체의 상태가 바뀌는 것을 나타내며 화살표를 사용해 표현
	- 이벤트
		- 객체의 상태를 바뀌게 하는 자극
		- 화살표로 나타낸 전이위에 << >> 기호를 사용해 작성  
<img src = https://imgur.com/IyPeLZb.png height = 200>

---
### 2.8 컴포넌트 다이어그램 [ Component Diagram ]
- 컴포넌트 다이어글매
	- 구현 과점에서 정작 모델링을 할 때 사용하는 것 [ 컴파일된 실행파일, DLL 등 파일의 형태로 존재 ]
	- 어떤 실행 모듈이 존재하고 이들이 서로 어떤 연관성이 있는지의 종속 관계를 나타냄
	- 사용자에게 논리적 또는 물리적 시스템의 구조를 볼 수 있게 해줌

- 구성요소
	- 컴포넌트
		- 컴포넌트는 시스템을 구성하는 물리적인 요소로 프로그램 코드를 포함
			- \<\<executable\>\> : 실행 파일[.exe]
			- \<\<library\>\> : DLL 같은 정적 or 동적 객체 라이브러리
			- \<\<table\>\> : DB 테이블
			- \<\<file\>\> : 원시 코드를 포함하는 파일
	- 인터페이스
		- 클래스 모양으로 나타내거나 아이콘을 사용해 간략하게 표현할 수 있음
	- 의존 관계
		- 서로 영향을 주고받는 관계를 말함
		- 컴포넌트 간 연결은 점선 화살표로 나타내며 의존하는 쪽으로 화살표가 연결  
<img src = https://imgur.com/Pf3cFxO.png>

- 작성 과정
	-	컴포넌트 대상 정의
		-	무엇을 컴포넌트로 할지 정함
	- 컴포넌트 찾기
		컴포넌트 다이어그램에 포함할 컴포넌트를 식별
	-컴포넌트 배치
		- 컴포넌트 다이어그램에 컴포넌트를 배치하고 이름을 붙여줌
		- 필요하다면 인터페이스를 정의하고 컴포넌트와 실현 관계로 연결
	- 의존 관계 정의
		- 컴포넌트 간 의존 관계를 정의
		- 각 컴포넌트의 인터페이스를 원으로 표시하고 인터페이스에 대한 실현은 컴포넌트와 연결  
<img src = https://imgur.com/8si2c8M.png height = 300>

---
### 2.9 배치 다이어그램 [ Deployment Diagram ]
- 배치 다이어그램
	-	HW 자원을 명시적으로 정의해 시스템의 물리적인 요소를 모델링하고 노드 간의 관계를 나타냄
	- 노드 : 시스템을 구성하는 처리 장치로 실행 파일 수준의 컴포넌트가 탑재된 HW를 말함
	- 노드를 연결하는 관계는 다양한 통신 방식을 의미  
<img src = https://imgur.com/jDFZzs0.png height = 400>

```
학사관리 서버는 교내 정보전산원에 설치
인사관리 서버는 교내 정보전산원에 설치
회계관리 컴포넌트는 국립대학교 전체가 동일한 것을 사용하고 서버는 국가 데이터센터에 배치하는 것으로 간주
메일 서버는 교외의 데이터센터에 설치
```